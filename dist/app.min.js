!function(){"use strict";angular.module("app_controllers",[]),angular.module("app_services",[]),angular.module("app_components",[]),angular.module("app_interceptors",[]),angular.module("app",["ui.router","ui.bootstrap","ngAnimate","ngMessages","app_controllers","app_services","app_components","app_interceptors","satellizer","ngFileUpload"]).run(["$rootScope","$state","authenticateService",function(e,a,p){}])}();
!function(){"use strict";angular.module("app").config(["$urlRouterProvider","$stateProvider","$authProvider","$locationProvider",function(t,e,l,r){l.loginUrl="https://stark-beach-53351.herokuapp.com/users/authenticate",e.state("home",{url:"/",templateUrl:"templates/home/home.html",controller:"homeCtrl",controllerAs:"vm"}).state("signin",{url:"/signin",templateUrl:"templates/authentication/signin.html",controller:"authCtrl",controllerAs:"vm"}).state("signup",{url:"/signup",templateUrl:"templates/authentication/signup.html",controller:"authCtrl",controllerAs:"vm"}).state("novel",{url:"/novel",templateUrl:"templates/novels/novels.html",controller:"novelCtrl",controllerAs:"vm"}).state("novel-new",{url:"/novel-new",templateUrl:"templates/novels/novels-new.html",controller:"novelCtrl",controllerAs:"vm"}).state("novel-edit",{url:"/novel-edit",templateUrl:"templates/novels/novels-new.html",controller:"novelCtrl",controllerAs:"vm"}).state("chapter",{url:"/chapter",templateUrl:"templates/chapter/chapter.html",controller:"chapterCtrl",controllerAs:"vm"}).state("chapter-new",{url:"/chapter-new",templateUrl:"templates/chapter/chapter-new.html",controller:"chapterCtrl",controllerAs:"vm"}).state("chapter-edit",{url:"/chapter-edit",templateUrl:"templates/chapter/chapter-new.html",controller:"chapterCtrl",controllerAs:"vm"}).state("dashboard",{url:"/dashboard",templateUrl:"templates/dashboard/dashboard.html",controller:"dashboardCtrl",controllerAs:"vm"}),t.otherwise("/signin")}]).config(["$httpProvider",function(t){t.interceptors.push("AuthInterceptor")}])}();
!function(){"use strict";function t(t,e,r){return{request:function(t){return t.headers=t.headers||{},r.get("authenticateService").getAuthenticate()&&(t.headers.Authorization=r.get("tokenControlService").getItem("token")),t},responseError:function(r){return 401!==r.status&&403!==r.status||e.path("/signin"),t.reject(r)}}}angular.module("app_interceptors").factory("AuthInterceptor",t),t.$inject=["$q","$location","$injector"]}();
!function(){"use strict";function r(r){return{responseError:function(t){return t.status,console.log(t),r.reject(t)}}}angular.module("app_interceptors").factory("errorInterceptor",r),r.$inject=["$q"]}();
!function(){"use strict";function e(){return{request:function(e){var t=e.url;if(t.indexOf("templates")>-1)return e;var r=(new Date).getTime();return e.url=t+"?timestamp="+r,console.log(e.url),e}}}angular.module("app_interceptors").factory("loadingInterceptor",e),e.$inject=[]}();
!function(){"use strict";function t(t,n,o,e,r){function i(o){t.login(o).then(function(t){n.go("dashboard")}).catch(function(t){console.log("error ao logar")})}function c(t){r.register(t).then(function(t){n.go("dashboard")})}var a=this;a.signin=i,a.signup=c}angular.module("app_controllers").controller("authCtrl",t),t.$inject=["authenticateService","$state","$http","$auth","registerService"]}();
!function(){"use strict";function e(e,t,n,r){function a(t){n.deletar(t).then(function(t){e.go("chapter",{},{reload:!0})})}function c(t){r.set(t),e.go("chapter-edit")}function o(r){var a=t.get()._id;r.novel=a,n.add(r).then(function(t){e.go("chapter")})}function i(t){n.update(t).then(function(t){e.go("chapter")})}var h=this;h.chapters=[],h.createChapter=o,h.editChapter=i,h.goChapter=c,h.chapter={},h.novo=!0,h.deleteChapter=a;var p=t.get();if(h.novel=p,"chapter"===e.current.name&&function(){var e={};e.novel_id=t.get()._id,n.getAll(e).then(function(e){h.chapters=e.data})}(),"chapter-edit"===e.current.name){h.novo=!1;var u=r.get()._id;n.getChapter(u).then(function(e){h.chapter=e.data})}}angular.module("app_controllers").controller("chapterCtrl",e),e.$inject=["$state","novelService","chapterAPIService","chapterService"]}();
!function(){"use strict";function e(e){function n(n,r){var o=angular.copy(n);o.approved="not"===o.approved?"yes":"not",e.changeUserApprove(o).then(function(e){n.approved=o.approved})}var r=this;r.users=[],r.changeUserApprove=n,function(){e.listAll().then(function(e){r.users=e.data})}()}angular.module("app_controllers").controller("dashboardCtrl",e),e.$inject=["userService"]}();
!function(){"use strict";function n(){}angular.module("app_controllers").controller("homeCtrl",n),n.$inject=[]}();

!function(){"use strict";function e(e,o,n,t,l,r){function a(e){r.set(e),l.go("novel-edit")}function c(e){t.update(e).then(function(e){console.log("resultado de update novel",e),l.go("novel")})}function v(e){r.set(e),l.go("chapter")}function u(e){var o=new FormData;o.append("cover",e.cover),t.upload(o).then(function(o){e.users=n.getCurrentUser(),e.cover_url=o.img_url,t.add(e).then(function(e){l.go("novel")})})}var i=this;if(i.cadastrar=u,i.novels=[],i.editNovel=c,i.goChapters=v,i.novel={},i.goNovel=a,i.novo=!0,"novel"===l.current.name&&function(){t.getNovels().then(function(e){console.log("getNovels",e),i.novels=e.data})}(),"novel-edit"===l.current.name){i.novo=!1;var s=r.get()._id;t.getNovel(s).then(function(e){i.novel=e.data,console.log("result",e.data)})}}angular.module("app_controllers").controller("novelCtrl",e),e.$inject=["$http","Upload","userService","novelAPIService","$state","novelService"]}();
navbar.component.js;
!function(){"use strict";function t(t,e,n){return{getAuthenticate:function(){return!!e.getItem("token")},login:function(t){return n.login(t).then(function(t){return e.setItem("token",t.data.data.token),e.setItem("id",t.data.data.id),t.data.status}).catch(function(t){console.log("error",t)})}}}angular.module("app_services").factory("authenticateService",t),t.$inject=["$state","tokenControlService","$auth"]}();
!function(){"use strict";function t(t,e){var n=function(n){return e.post(t.baseUrl+"chapters/novelChapters",n).then(function(t){return t.data})},r=function(n){return e.post(t.baseUrl+"chapters/",n).then(function(t){return t.data})},a=function(n){return e.get(t.baseUrl+"chapters/"+n).then(function(t){return t.data})},u=function(n){return e.delete(t.baseUrl+"chapters/"+n).then(function(t){return t.data})};return{getAll:n,add:r,getChapter:a,update:function(n){return e.put(t.baseUrl+"chapters/"+n._id,n).then(function(t){return t.data})},deletar:u}}angular.module("app_services").factory("chapterAPIService",t),t.$inject=["config","$http"]}();
!function(){"use strict";function t(){var t={};return{set:function(e){t=e},get:function(){return t}}}angular.module("app_services").factory("chapterService",t),t.$inject=[]}();
!function(){"use strict";function t(t,n,e){var r=function(t){return n.get(e.baseUrl+"novels/").then(function(t){return t.data})},u=function(t){return n.get(e.baseUrl+"novels/"+t).then(function(t){return t.data})},o=function(t){return n.post(e.baseUrl+"novels/",t).then(function(t){return t.data})},a=function(t){return n.put(e.baseUrl+"novels/"+t._id,t).then(function(t){return t.data})};return{getNovels:r,add:o,upload:function(t){return n.post(e.baseUrl+"novels/upload",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(t){return t.data})},getNovel:u,update:a}}angular.module("app_services").factory("novelAPIService",t),t.$inject=["$state","$http","config"]}();
!function(){"use strict";function n(){var n={};return{set:function(e){n=e},get:function(){return n}}}angular.module("app_services").factory("novelService",n),n.$inject=[]}();
!function(){"use strict";function t(t){return{getAll:function(){return t.get("http://localhost:3000/products").then(function(t){return t.data.data}).catch(function(t){return console.log("err",t)})},create:function(n){return t.post("http://localhost:3000/products",n).then(function(t){return console.log("create",t),t.data.data}).catch(function(t){console.log("err",t)})},remove:function(n){return t.delete("http://localhost:3000/products/"+n).then(function(t){return t.data}).catch(function(t){console.log("err",t)})}}}angular.module("app_services").factory("productsAPIService",t),t.$inject=["$http"]}();
!function(){"use strict";function t(t,e,r,n,i){return{register:function(t){return n.post(i.baseUrl+"users/",t).then(function(t){return t.data})}}}angular.module("app_services").factory("registerService",t),t.$inject=["$state","tokenControlService","$auth","$http","config"]}();
!function(){"use strict";function e(){return{setItem:function(e,t){return localStorage.setItem(e,t)},getItem:function(e){return localStorage.getItem(e)},removeItem:function(e){return localStorage.removeItem(e)}}}angular.module("app_services").factory("tokenControlService",e),e.$inject=[]}();
!function(){"use strict";function t(t,e,r){return{listAll:function(t){return e.get(r.baseUrl+"users/").then(function(t){return t.data})},changeUserApprove:function(t){return e.put(r.baseUrl+"users/",t).then(function(t){return t.data})},getCurrentUser:function(){return localStorage.getItem("id")}}}angular.module("app_services").factory("userService",t),t.$inject=["$state","$http","config"]}();
!function(){"use strict";angular.module("app").value("config",{baseUrl:"https://stark-beach-53351.herokuapp.com/",apiUrl:"",loginUrl:"",imgUrl:"",imgNotFound:""})}();